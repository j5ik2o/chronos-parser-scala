# ----------------------------------------
# 使用する scalafmt のバージョン
# ----------------------------------------
version = "3.9.4"

# ----------------------------------------
# Scala 3 を使う。ただし中括弧スタイルを前提に。
# ----------------------------------------
runner.dialect = scala3

# ----------------------------------------
# 最大行長（読みやすさと diff のバランス）
# ----------------------------------------
maxColumn = 100

# ----------------------------------------
# インデント設定（すべて2スペースに統一）
# ----------------------------------------
indent.main = 2
indent.callSite = 2
indent.defnSite = 2
indent.extendSite = 2
indent.ctorSite = 2

# ----------------------------------------
# 整列を無効化（diff ノイズ防止）
# ----------------------------------------
align.preset = none

# ----------------------------------------
# 括弧の改行挙動
# ----------------------------------------
danglingParentheses.preset = false

# ----------------------------------------
# 中括弧スタイルの一貫性
# ----------------------------------------
includeCurlyBraceInSelectChains = true

# ----------------------------------------
# アノテーションを複数行で書く際に改行する
# ----------------------------------------
optIn.annotationNewlines = true

# ----------------------------------------
# スペースの挙動（重要な部分のみ設定）
# ----------------------------------------
spaces.inParentheses = false
spaces.afterKeywordBeforeParen = true
spaces.beforeContextBoundColon = true

# ----------------------------------------
# 複数行のリスト・引数などには末尾カンマを付ける
# ----------------------------------------
trailingCommas = never

# ----------------------------------------
# 自動リファクタリングルール
# ----------------------------------------
rewrite.rules = [
  SortImports,        # import の整理とソート
  RedundantParens,    # 不要な括弧の削除
  RedundantBraces     # 不要な中括弧の削除（1行のみ対象）
]

# ----------------------------------------
# 行末の空白を削除
# ----------------------------------------
rewrite.trailingCommas.allowFolding = false

# ----------------------------------------
# Scaladoc コメントスタイル（/** ... */）
# ----------------------------------------
docstrings.style = Asterisk

# ----------------------------------------
# Git リポジトリ用の最適化（.gitignore などの扱い）
# ----------------------------------------
project.git = true
